<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="UTF-8">
    <title>Weather Widget</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css">

</head>

<body>

    <div class="container">

        <h1>Weather Widget</h1>

        <!-- Zip Code Select Box -->
        <form id="zip-form">
            <!-- Submit Button -->
            <input id="find-zip" type="submit" value="Zip Code">
            <!-- Text Input Box -->
            <input type="text" id="zip-input">
        </form>

        <!-- Weather Information -->
        <div id="weather-div"></div>

    </div>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>

    function getWeather() {

        var zip = $("#zip-input").val();
        console.log(zip);

        // QueryURL for openWeatherMap
        var weatherQueryURL = "https://api.openweathermap.org/data/2.5/weather?zip=" + zip + ",us&APPID=df05309380466da4ebc0626f93b711ac";

        $.ajax({
            url: weatherQueryURL,
            method: "GET"
        }).then(function (response) {
            console.log(response);

            function kelvinConvert(kelvin) {
                return Math.round(kelvin - 273.15)
            };

            var city = $("<h1>").text(response.name);
            var currentTemp = $("<h2>").text("Current: " + (Math.round(((response.main.temp) - 273.15) * (1.8) + 32)));
            var highTemp = $("<h3>").text("High: " + (Math.round(((response.main.temp_max) - 273.15) * (1.8) + 32)));
            var lowTemp = $("<h3>").text("Low: " + (Math.round(((response.main.temp_min) - 273.15) * (1.8) + 32)));
            var details = $("<h3>").text(response.weather[0].description);

            // NOTE: CAN ALSO ADD CORRESPONDING WEATHER ICON. LOOK INTO IT IF THERE'S TIME.
            $("#weather-div").empty();
            $("#weather-div").append(city, currentTemp, highTemp, lowTemp, details);
        });
    };

    $("#find-zip").on("click", function (event) {
        event.preventDefault();

        // Running the getWeather function(passing in the weather as an argument)
        getWeather();
    })

</script>

</html>